function expandDDMenu(e){var t=$(this).attr("id"),s=$(this).children(".dd-child"),d=$(this).parent().hasClass("dd-menu-container"),l=$(".dd-menu.dd-open").length,n=document.querySelector("#"+t).getBoundingClientRect();if(l>0&&collapseDDMenu(e),d)o=$("#"+t).parent().height();else var o=n.height;if("relative"===$(this).css("position")){if($(this).hasClass("t"))a={bottom:o,display:"block"};else a={top:o,display:"block"};if($(this).hasClass("r"))i={right:0};else i={left:0}}else{if($(this).hasClass("r"))i={right:$(document).width()-n.right};else var i={left:n.left};if($(this).hasClass("t"))a={bottom:$(document).height()-n.top,display:"block"};else var a={top:n.top+o,display:"block"}}s.slideDown({start:function(){$(this).css(a),$(this).css(i)}}),$(this).addClass("dd-open"),s.addClass("o"),$(this).one("click",collapseDDMenu),e.preventDefault(),e.stopPropagation();var c=document.querySelector(".dd-child.o").getBoundingClientRect();c.left<0&&($("#"+t).removeClass("r").addClass("l"),console.log("out left")),c.right>(window.innerWidth||document.documentElement.clientWidth)&&($("#"+t).removeClass("l").addClass("r"),console.log("out right"))}function collapseDDMenu(e){$(".dd-menu.dd-open").removeClass("dd-open").one("click",expandDDMenu).children(".dd-child").slideUp().removeClass("o"),e.preventDefault()}$(window).click(function(){$(".dd-menu.dd-open").removeClass("dd-open").one("click",expandDDMenu).children(".dd-child").slideUp().removeClass("o")}),$(document).ready(function(){$(".dd-menu").one("click",expandDDMenu)});